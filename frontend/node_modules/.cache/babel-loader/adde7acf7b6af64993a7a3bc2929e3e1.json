{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jonas\\\\Desktop\\\\HCIS\\\\frontend\\\\src\\\\components\\\\patientsComponents\\\\appointPhy.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Col, Button, Row, Card } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { proxy, logoutUser } from \"../../actions/index\";\nimport { withRouter } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst AppointPhy = props => {\n  const dispatch = useDispatch();\n  const [physicians, setPhysicians] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!(localStorage.jwtToken && localStorage.getItem(\"userRole\") === \"PATIENT\")) {\n      dispatch(logoutUser(props.history));\n    } else {\n      axios.get(`${proxy}/getallphysicians`).then(res => {\n        setPhysicians(res.data.physiciansData);\n        setLoading(false);\n      }).catch(err => alert(err.response.data.message));\n    }\n  }, []);\n\n  const onPhysicianSelect = d => {\n    const data = {\n      physicianId: d + \"\"\n    }; // console.log(data);\n\n    axios.post(`${proxy}/createamedicalappointment`, data).then(res => props.history.push(\"/patient/profile\")).catch(err => alert(err.response.data.message));\n  };\n\n  const cards = () => {\n    return physicians.map(d => React.createElement(Card, {\n      key: d.id,\n      style: {\n        width: \"50vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Name:\", \" \", d.name || d.surname ? d.name + \" \" + d.surname : \"Not Available\"), React.createElement(Card.Subtitle, {\n      className: \"mb-2 text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Email: \", d.email ? d.email : \"Not available\"), React.createElement(Card.Link, {\n      href: \"#\",\n      onClick: () => onPhysicianSelect(d.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Select\"))));\n  };\n\n  return loading ? React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    type: \"TailSpin\",\n    color: \"#00BFFF\",\n    height: 100,\n    width: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"patient-form-heading\",\n    style: {\n      marginBottom: \"20px\",\n      marginTop: \"10px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"All Physicians\"), \" \", cards()));\n};\n\nexport default withRouter(AppointPhy);","map":{"version":3,"sources":["C:/Users/jonas/Desktop/HCIS/frontend/src/components/patientsComponents/appointPhy.js"],"names":["React","useState","useEffect","Form","Col","Button","Row","Card","axios","proxy","logoutUser","withRouter","useDispatch","Loader","AppointPhy","props","dispatch","physicians","setPhysicians","loading","setLoading","localStorage","jwtToken","getItem","history","get","then","res","data","physiciansData","catch","err","alert","response","message","onPhysicianSelect","d","physicianId","post","push","cards","map","id","width","name","surname","email","position","top","left","transform","display","flexDirection","justifyContent","alignItems","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Form, Col, Button, Row, Card } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { proxy, logoutUser } from \"../../actions/index\";\nimport { withRouter } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst AppointPhy = props => {\n  const dispatch = useDispatch();\n  const [physicians, setPhysicians] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (\n      !(localStorage.jwtToken && localStorage.getItem(\"userRole\") === \"PATIENT\")\n    ) {\n      dispatch(logoutUser(props.history));\n    } else {\n      axios\n        .get(`${proxy}/getallphysicians`)\n        .then(res => {\n          setPhysicians(res.data.physiciansData);\n          setLoading(false);\n        })\n        .catch(err => alert(err.response.data.message));\n    }\n  }, []);\n\n  const onPhysicianSelect = d => {\n    const data = { physicianId: d + \"\" };\n    // console.log(data);\n    axios\n      .post(`${proxy}/createamedicalappointment`, data)\n      .then(res => props.history.push(\"/patient/profile\"))\n      .catch(err => alert(err.response.data.message));\n  };\n\n  const cards = () => {\n    return physicians.map(d => (\n      <Card key={d.id} style={{ width: \"50vw\" }}>\n        <Card.Body>\n          <Card.Title>\n            Name:{\" \"}\n            {d.name || d.surname ? d.name + \" \" + d.surname : \"Not Available\"}\n          </Card.Title>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            Email: {d.email ? d.email : \"Not available\"}\n          </Card.Subtitle>\n          <Card.Link href=\"#\" onClick={() => onPhysicianSelect(d.id)}>\n            Select\n          </Card.Link>\n        </Card.Body>\n      </Card>\n    ));\n  };\n\n  return loading ? (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\"\n      }}\n    >\n      <Loader type=\"TailSpin\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  ) : (\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <h4\n          className=\"patient-form-heading\"\n          style={{ marginBottom: \"20px\", marginTop: \"10px\" }}\n        >\n          All Physicians\n        </h4>{\" \"}\n        {cards()}\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(AppointPhy);\n"]},"metadata":{},"sourceType":"module"}